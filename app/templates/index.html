{% extends 'base.html' %}
{% block content %}
<section>
  <h2>Create User</h2>
  <form method="post" action="/ui/users">
    <input name="name" placeholder="Name" required>
    <input name="email" placeholder="Email (optional)">
    <button type="submit">Create</button>
  </form>
</section>

<section>
  <h2>Create Order</h2>
  <form method="post" action="/ui/orders">
    <input name="user_id" type="number" placeholder="User ID" required>
    <input name="amount" type="number" step="0.01" placeholder="Amount" required>
    <button type="submit">Create</button>
  </form>
  {% if error %}
    <p class="error">{{ error }}</p>
  {% endif %}
</section>

<section>
  <h2>Search Users</h2>
  <form method="get" action="/ui">
    <input name="q" value="{{ q or '' }}" placeholder="Search name">
    <button type="submit">Search</button>
  </form>
  {% if search_results is not none %}
    <ul>
      {% for u in search_results %}
        <li>{{ u.id }} - {{ u.name }} ({{ u.email or 'no email' }})</li>
      {% else %}
        <li>No results</li>
      {% endfor %}
    </ul>
  {% endif %}
</section>

<section>
  <h2>Users</h2>
  <ul>
    {% for u in users %}
      <li>{{ u.id }} - {{ u.name }} ({{ u.email or 'no email' }})</li>
    {% else %}
      <li>No users</li>
    {% endfor %}
  </ul>
</section>

<section>
  <h2>Orders</h2>
  <ul>
    {% for o in orders %}
      <li>#{{ o.id }} user {{ o.user_id }}: {{ o.amount }}</li>
    {% else %}
      <li>No orders</li>
    {% endfor %}
  </ul>
</section>
{% endblock %}
